## API эндпоинты

---

### POST /api/request_code/

Отправляет SMS-код на указанный номер телефона для первичной 
аутентификации пользователя.  

Запрос:
````
{
  "number": "37529123456789"
}
````
Успешный ответ (200):
````
{
  "detail": "Отправлен код GFJ3 на номер 37529123456789"
}
````
Ответ при ошибке валидности (400):
````
{
  "number": [
        "В номере телефона должно быть не менее 10 цифр."
    ]
}
````
Примечание: Код хранится в кеше 2 минуты. Задержка 2 секунды имитирует отправку SMS.

---

### POST /api/check_code/

Проверяет введённый код, отправленный на телефон. Автоматически создаёт пользователя, 
если его нет, и выполняет вход.  

Запрос:
````
{
  "number": "37529123456789",
  "code": "GFJ3"
}
````
Успешный ответ (200):
````
{
  "detail": "Вы успешно вошли в систему."
}
````
Ответ при ошибке валидности (400):
````
{
  "detail": "Неверный код."
}
````
Примечание: При первом входе для пользователя создаётся пароль, и
он автоматически авторизуется.

---

### GET, PUT, PATCH /api/profile/

Просмотр и редактирование профиля текущего авторизованного
пользователя. Только для авторизованных пользователей (IsAuthenticated).  

GET /api/profile/ — получение данных пользователя.

Успешный ответ (200):
````
{
    "username": "1236547890",
    "invite_code": "thwxbu",
    "other_code": null,
    "referals": []
}
````

PUT / PATCH /api/profile/ — обновление данных профиля. В запросе может 
передаватся только поле "other_code".
Успешный ответ (200) — возвращает обновлённый профиль пользователя.

---

### POST /api-token-auth/

Создание токена для пользователя.  

Запрос:
````
{
  "username": "37529123456789",
  "password": "GFJ33r"
}
````
Успешный ответ (200):
````
{
    "token": "29752158611b6dc8afca77a6ca447c73491993fc"
}
````
